{% extends "layout.html" %}
{% import "macro/modals.html" as modals %}

{% block title %}
    Board
{% endblock %}

{% block main %}
    {{ modals.task() }}
    <div class="main-kanban">
        <div class="grid-board">
            {% for kanban_lists in kanban_lists %}
                <div class="item-box">
                    <div class="item">
                        <i class="fa-solid fa-bars btn-icons btn-bar"></i>
                        <input class="list-input" type="text" value="{{ kanban_lists.name }}"> 
                        {% set copy_task = tasks | selectattr("id_list", "sameas", kanban_lists.id) | list %}
                        {% for task in copy_task %}
                            <div class="task" draggable="true" id="task_{{ task.id }}">
                                <i class="fa-solid fa-pencil btn-icons btn-pencil"></i>
                                <span>
                                    {{ task.content }}
                                </span>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="add-card" value="item1">
                        <i type="button" class="fa-solid fa-plus"></i> Add card
                    </div>
                </div>
            {% endfor %}
            <div>
                <div class="add-list" id="add-list">
                    <i type="button" class="fa-solid fa-plus"></i> Add another list
                </div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/kanban.js') }}"  type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/modals.js') }}"  type="text/javascript"></script>
{% endblock %}